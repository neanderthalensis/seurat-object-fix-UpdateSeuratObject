<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>S4/List Conversion — s4list • SeuratObject</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="S4/List Conversion — s4list"><meta property="og:description" content="Convert S4 objects to lists and vice versa. Useful for declassing an S4
object while keeping track of it's class using attributes (see section
S4 Class Definition Attributes below for more details). Both
ListToS4 and S4ToList are recursive functions, affecting
all lists/S4 objects contained as sub-lists/sub-objects"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SeuratObject</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">5.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/satijalab/seurat-object/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>S4/List Conversion</h1>
    <small class="dont-index">Source: <a href="https://github.com/satijalab/seurat-object/blob/HEAD/R/generics.R" class="external-link"><code>R/generics.R</code></a>, <a href="https://github.com/satijalab/seurat-object/blob/HEAD/R/utils.R" class="external-link"><code>R/utils.R</code></a></small>
    <div class="hidden name"><code>s4list.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Convert S4 objects to lists and vice versa. Useful for declassing an S4
object while keeping track of it's class using attributes (see section
<strong>S4 Class Definition Attributes</strong> below for more details). Both
<code>ListToS4</code> and <code>S4ToList</code> are recursive functions, affecting
all lists/S4 objects contained as sub-lists/sub-objects</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">S4ToList</span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">IsS4List</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ListToS4</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for default</span></span>
<span><span class="fu">S4ToList</span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for list</span></span>
<span><span class="fu">S4ToList</span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>object</dt>
<dd><p>An S4 object</p></dd>


<dt>x</dt>
<dd><p>A list with an S4 class definition
(“<code>classDef</code>”) attribute</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code>S4ToList</code>: A list with an S4 class definition attribute</p>


<p><code>IsS4List</code>: <code>TRUE</code> if <code>x</code> is a list with an S4 class
definition attribute</p>


<p><code>ListToS4</code>: An S4 object as defined by the S4 class definition
attribute</p>
    </div>
    <div id="s-class-definition-attributes">
    <h2>S4 Class Definition Attributes</h2>
    

<p>S4 classes are scoped to the package and class name. In order to properly
track which class a list is generated from in order to build a new one,
these function use an <code><a href="https://rdrr.io/r/base/attr.html" class="external-link">attribute</a></code> to denote the
class name and package of origin. This attribute is stored as 1-length
character vector named “<code>classDef</code>” and takes the form
of “<code>package:class</code>”</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index">

<p><code><a href="ClassKey.html">ClassKey</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Turn an S4 object into a list</span></span></span>
<span class="r-in"><span><span class="va">pbmc.list</span> <span class="op">&lt;-</span> <span class="fu">S4ToList</span><span class="op">(</span><span class="va">pbmc_small</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">pbmc.list</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "list"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html" class="external-link">attributes</a></span><span class="op">(</span><span class="va">pbmc.list</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "assays"       "meta.data"    "active.assay" "active.ident" "graphs"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] "neighbors"    "reductions"   "images"       "project.name" "misc"        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] "version"      "commands"     "tools"       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $classDef</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "SeuratObject:Seurat"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">pbmc.list</span><span class="op">$</span><span class="va">reductions</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ pca :List of 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ cell.embeddings           : num [1:80, 1:19] -0.774 -0.026 -0.457 -0.812 -0.774 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..- attr(*, "dimnames")=List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. .. ..$ : chr [1:80] "ATGCCAGAACGACT" "CATGGCCTGTGCAT" "GAACCTGATGAACC" "TGACTGGATTCTCA" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. .. ..$ : chr [1:19] "PC_1" "PC_2" "PC_3" "PC_4" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ feature.loadings          : num [1:20, 1:19] 0.3383 -0.035 0.1199 -0.0469 -0.0389 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..- attr(*, "dimnames")=List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. .. ..$ : chr [1:20] "PPBP" "IGLL5" "VDAC3" "CD1C" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. .. ..$ : chr [1:19] "PC_1" "PC_2" "PC_3" "PC_4" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ feature.loadings.projected: num [1:20, 1:19] -21.5 -38.8 -45 -75.7 -63.7 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..- attr(*, "dimnames")=List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. .. ..$ : chr [1:20] "IGLL5" "S100A8" "S100A9" "HLA-DPB1" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. .. ..$ : chr [1:19] "PC_1" "PC_2" "PC_3" "PC_4" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ assay.used                : chr "RNA"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ global                    : logi FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ stdev                     : num [1:19] 2.79 1.61 1.32 1.12 1.03 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ jackstraw                 :List of 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ empirical.p.values     : num [1:20, 1:10] 0 0.467 0 0.333 0.4 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. .. ..- attr(*, "dimnames")=List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. .. .. ..$ : chr [1:20] "PPBP" "IGLL5" "VDAC3" "CD1C" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. .. .. ..$ : chr [1:10] "PC1" "PC2" "PC3" "PC4" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ fake.reduction.scores  : num [1:30, 1:10] 0.0408 -0.02849 -0.00419 -0.02824 0.01626 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ empirical.p.values.full: logi [1, 1] NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ overall.p.values       : num [1:5, 1:2] 1 2 3 4 5 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. .. ..- attr(*, "dimnames")=List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. .. .. ..$ : NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. .. .. ..$ : chr [1:2] "PC" "Score"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..- attr(*, "classDef")= chr "SeuratObject:JackStrawData"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ misc                      : list()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ key                       : chr "PC_"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "classDef")= chr "SeuratObject:DimReduc"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ tsne:List of 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ cell.embeddings           : num [1:80, 1:2] 0.868 -7.393 -28.206 16.348 1.911 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..- attr(*, "dimnames")=List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. .. ..$ : chr [1:80] "ATGCCAGAACGACT" "CATGGCCTGTGCAT" "GAACCTGATGAACC" "TGACTGGATTCTCA" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. .. ..$ : chr [1:2] "tSNE_1" "tSNE_2"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ feature.loadings          : num[0 , 0 ] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ feature.loadings.projected: num[0 , 0 ] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ assay.used                : chr "RNA"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ global                    : logi TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ stdev                     : num(0) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ jackstraw                 :List of 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ empirical.p.values     : num[0 , 0 ] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ fake.reduction.scores  : num[0 , 0 ] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ empirical.p.values.full: num[0 , 0 ] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ overall.p.values       : num[0 , 0 ] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..- attr(*, "classDef")= chr "SeuratObject:JackStrawData"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ misc                      : list()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ key                       : chr "tSNE_"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "classDef")= chr "SeuratObject:DimReduc"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">IsS4List</span><span class="op">(</span><span class="va">pbmc.list</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pbmc2</span> <span class="op">&lt;-</span> <span class="fu">ListToS4</span><span class="op">(</span><span class="va">pbmc.list</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pbmc2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class Seurat </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 230 features across 80 samples within 1 assay </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Active assay: RNA (230 features, 20 variable features)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3 layers present: counts, data, scale.data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2 dimensional reductions calculated: pca, tsne</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">pbmc2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Seurat"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"package")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "SeuratObject"</span>
<span class="r-in"><span><span class="fu"><a href="ObjectAccess.html">Reductions</a></span><span class="op">(</span><span class="va">pbmc2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "pca"  "tsne"</span>
<span class="r-in"><span><span class="fu">validObject</span><span class="op">(</span><span class="va">pbmc2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Paul Hoffman, Rahul Satija, David Collins, Yuhan Hao, Austin Hartman, Gesmira Molla, Andrew Butler, Tim Stuart.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

